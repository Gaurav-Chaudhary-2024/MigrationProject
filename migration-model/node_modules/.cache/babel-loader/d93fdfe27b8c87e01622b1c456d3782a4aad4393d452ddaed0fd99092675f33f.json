{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gaura\\\\OneDrive\\\\Desktop\\\\Projects\\\\MigrationProject\\\\migration-model\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar } from 'recharts';\nimport { Play, Settings, Info, Database, TrendingUp, AlertCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PopulationMigrationModel = () => {\n  _s();\n  const [selectedCountries, setSelectedCountries] = useState([]);\n  const [showInfo, setShowInfo] = useState(false);\n  const [distanceEffect, setDistanceEffect] = useState(0.5);\n  const [connectivityEffect, setConnectivityEffect] = useState(0.3);\n  const [trainTestSplit, setTrainTestSplit] = useState(0.75);\n  const [modelRunning, setModelRunning] = useState(false);\n  const [loadingData, setLoadingData] = useState(true);\n  const [migrationData, setMigrationData] = useState([]);\n  const [years, setYears] = useState([]);\n  const [allCountries, setAllCountries] = useState([]);\n  const [transitionMatrices, setTransitionMatrices] = useState([]);\n  const [predictions, setPredictions] = useState([]);\n  const [geographicDistances, setGeographicDistances] = useState({});\n  const [connectivity, setConnectivity] = useState({});\n  const [validationMetrics, setValidationMetrics] = useState(null);\n  const [learnedCoefficients, setLearnedCoefficients] = useState(null);\n  const colors = ['#ef4444', '#10b981', '#f59e0b', '#8b5cf6', '#ec4899', '#14b8a6'];\n  const dotColors = ['#dc2626', '#059669', '#d97706', '#7c3aed', '#db2777', '#0d9488'];\n  const countryCoordinates = {\n    'United States': [37.0902, -95.7129],\n    'Germany': [51.1657, 10.4515],\n    'United Kingdom': [55.3781, -3.4360],\n    'Canada': [56.1304, -106.3468],\n    'France': [46.2276, 2.2137],\n    'Australia': [-25.2744, 133.7751],\n    'Japan': [36.2048, 138.2529],\n    'Italy': [41.8719, 12.5674],\n    'Spain': [40.4637, -3.7492],\n    'Mexico': [23.6345, -102.5528],\n    'Netherlands': [52.1326, 5.2913],\n    'Sweden': [60.1282, 18.6435],\n    'Switzerland': [46.8182, 8.2275],\n    'Belgium': [50.5039, 4.4699],\n    'Austria': [47.5162, 14.5501],\n    'Poland': [51.9194, 19.1451],\n    'Norway': [60.4720, 8.4689],\n    'Denmark': [56.2639, 9.5018],\n    'Finland': [61.9241, 25.7482],\n    'Greece': [39.0742, 21.8243],\n    'Portugal': [39.3999, -8.2245],\n    'Czech Republic': [49.8175, 15.4730],\n    'Hungary': [47.1625, 19.5033],\n    'Ireland': [53.4129, -8.2439],\n    'New Zealand': [-40.9006, 174.8860]\n  };\n  const parseCSV = text => {\n    const lines = text.trim().split('\\n');\n    const headers = lines[0].split(',');\n    return lines.slice(1).map(line => {\n      const values = line.split(',');\n      const obj = {};\n      headers.forEach((header, i) => {\n        obj[header] = values[i];\n      });\n      return obj;\n    });\n  };\n  const haversineDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371;\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n  const calculateConnectivity = (c1, c2) => {\n    var _neighbors$c;\n    const neighbors = {\n      'United States': ['Canada', 'Mexico'],\n      'Canada': ['United States'],\n      'Mexico': ['United States'],\n      'Germany': ['France', 'Austria', 'Switzerland', 'Belgium', 'Netherlands', 'Poland', 'Czech Republic', 'Denmark'],\n      'France': ['Germany', 'Belgium', 'Switzerland', 'Italy', 'Spain'],\n      'United Kingdom': ['Ireland'],\n      'Ireland': ['United Kingdom'],\n      'Italy': ['France', 'Switzerland', 'Austria'],\n      'Spain': ['France', 'Portugal'],\n      'Portugal': ['Spain'],\n      'Belgium': ['France', 'Germany', 'Netherlands'],\n      'Netherlands': ['Germany', 'Belgium'],\n      'Austria': ['Germany', 'Switzerland', 'Italy', 'Czech Republic', 'Hungary'],\n      'Switzerland': ['Germany', 'France', 'Italy', 'Austria'],\n      'Poland': ['Germany', 'Czech Republic'],\n      'Czech Republic': ['Germany', 'Poland', 'Austria'],\n      'Denmark': ['Germany', 'Sweden', 'Norway'],\n      'Sweden': ['Norway', 'Finland', 'Denmark'],\n      'Norway': ['Sweden', 'Finland', 'Denmark'],\n      'Finland': ['Sweden', 'Norway'],\n      'Hungary': ['Austria'],\n      'Greece': []\n    };\n    return (_neighbors$c = neighbors[c1]) !== null && _neighbors$c !== void 0 && _neighbors$c.includes(c2) ? 1.0 : 0.0;\n  };\n\n  // MODIFIED FOR VS CODE - Uses fetch API instead of window.fs\n  useEffect(() => {\n    const loadData = async () => {\n      setLoadingData(true);\n      try {\n        const yearFiles = ['2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020'];\n        const yearToPrefix = {\n          '2000': '1761981849080',\n          '2001': '1761981849081',\n          '2002': '1761981849081',\n          '2003': '1761981849081',\n          '2004': '1761981849082',\n          '2005': '1761981849082',\n          '2006': '1761981849083',\n          '2007': '1761981849083',\n          '2008': '1761981849084',\n          '2009': '1761981849084',\n          '2010': '1761981849085',\n          '2011': '1761981849085',\n          '2012': '1761981849086',\n          '2013': '1761981849086',\n          '2014': '1761981849086',\n          '2015': '1761981849087',\n          '2016': '1761981849087',\n          '2017': '1761981849087',\n          '2018': '1761981849088',\n          '2019': '1761981849077',\n          '2020': '1761981863298'\n        };\n        const dataByYear = [];\n        const countriesSet = new Set();\n        let filesLoaded = 0;\n        for (const year of yearFiles) {\n          try {\n            // Use fetch API for VS Code\n            const filename = `/${yearToPrefix[year]}_migration_${year}.csv`;\n            console.log(`Attempting to load: ${filename}`);\n            const response = await fetch(filename);\n            if (!response.ok) {\n              console.log(`File not found: ${filename}`);\n              continue;\n            }\n            const text = await response.text();\n            const parsed = parseCSV(text);\n            dataByYear.push({\n              year: parseInt(year),\n              data: parsed\n            });\n            parsed.forEach(row => {\n              if (row.Country && countryCoordinates[row.Country]) {\n                countriesSet.add(row.Country);\n              }\n            });\n            filesLoaded++;\n            console.log(`✓ Loaded ${filename} (${filesLoaded} files total)`);\n          } catch (err) {\n            console.log(`Could not load ${year}:`, err.message);\n          }\n        }\n        console.log(`Total files loaded: ${filesLoaded}`);\n        if (dataByYear.length === 0) {\n          console.error('No migration data files could be loaded.');\n          alert('⚠️ No CSV files found!\\n\\nMake sure to:\\n1. Place all CSV files in the \"public\" folder\\n2. Keep the timestamp prefixes in filenames');\n          setLoadingData(false);\n          return;\n        }\n        setMigrationData(dataByYear);\n        setYears(dataByYear.map(d => d.year));\n        setAllCountries(Array.from(countriesSet).sort());\n        const distances = {},\n          conn = {};\n        Array.from(countriesSet).forEach(c1 => {\n          distances[c1] = {};\n          conn[c1] = {};\n          Array.from(countriesSet).forEach(c2 => {\n            if (c1 === c2) {\n              distances[c1][c2] = 0;\n              conn[c1][c2] = 0;\n            } else {\n              const [lat1, lon1] = countryCoordinates[c1] || [0, 0];\n              const [lat2, lon2] = countryCoordinates[c2] || [0, 0];\n              distances[c1][c2] = haversineDistance(lat1, lon1, lat2, lon2);\n              conn[c1][c2] = calculateConnectivity(c1, c2);\n            }\n          });\n        });\n        setGeographicDistances(distances);\n        setConnectivity(conn);\n        setLoadingData(false);\n        console.log('✅ Data loading complete!');\n      } catch (error) {\n        console.error('Error loading data:', error);\n        setLoadingData(false);\n      }\n    };\n    loadData();\n  }, []);\n  const getPopulationStock = (yearData, countries) => {\n    const result = {};\n    countries.forEach(country => {\n      const row = yearData.find(r => r.Country === country);\n      if (row) {\n        const stock = parseFloat(row['Stock of foreign population by nationality(Total)']);\n        result[country] = isNaN(stock) ? 0 : stock;\n      } else {\n        result[country] = 0;\n      }\n    });\n    return result;\n  };\n  const getFlows = (yearData, countries) => {\n    const flows = {};\n    countries.forEach(country => {\n      const row = yearData.find(r => r.Country === country);\n      if (row) {\n        flows[country] = {\n          inflow: parseFloat(row['Inflows of foreign population by nationality(Total)'] || 0) || 0,\n          outflow: parseFloat(row['Outflows of foreign population by nationality(Total)'] || 0) || 0,\n          stock: parseFloat(row['Stock of foreign population by nationality(Total)'] || 0) || 0\n        };\n      }\n    });\n    return flows;\n  };\n  const estimateTransitionMatrix = (flows, countries, distances, conn, distCoeff, connCoeff) => {\n    const n = countries.length;\n    const matrix = Array(n).fill(0).map(() => Array(n).fill(0));\n    countries.forEach((origin, i) => {\n      const originFlow = flows[origin];\n      if (!originFlow || originFlow.stock === 0) {\n        matrix[i][i] = 1.0;\n        return;\n      }\n      const totalOutflow = originFlow.outflow || 0;\n      const stayProb = Math.max(0.5, 1 - totalOutflow / originFlow.stock);\n      matrix[i][i] = stayProb;\n      const remainingProb = 1 - stayProb;\n      let weightSum = 0;\n      const weights = [];\n      countries.forEach((dest, j) => {\n        if (i !== j) {\n          var _distances$origin, _conn$origin;\n          const destFlow = flows[dest];\n          const attractiveness = destFlow ? Math.log(destFlow.inflow + 10) : 1;\n          const distance = ((_distances$origin = distances[origin]) === null || _distances$origin === void 0 ? void 0 : _distances$origin[dest]) || 3000;\n          const connectivity = ((_conn$origin = conn[origin]) === null || _conn$origin === void 0 ? void 0 : _conn$origin[dest]) || 0;\n          const distanceEffect = Math.exp(-distCoeff * distance / 1000);\n          const connectivityBonus = 1 + connCoeff * connectivity;\n          const weight = attractiveness * distanceEffect * connectivityBonus;\n          weights.push(weight);\n          weightSum += weight;\n        } else {\n          weights.push(0);\n        }\n      });\n      countries.forEach((dest, j) => {\n        if (i !== j && weightSum > 0) {\n          matrix[i][j] = remainingProb * (weights[j] / weightSum);\n        }\n      });\n      const rowSum = matrix[i].reduce((a, b) => a + b, 0);\n      if (rowSum > 0) {\n        matrix[i] = matrix[i].map(v => v / rowSum);\n      }\n    });\n    return matrix;\n  };\n  const propagatePopulation = (currentPop, transMatrix, countries) => {\n    const newPop = {};\n    countries.forEach((dest, j) => {\n      let sum = 0;\n      countries.forEach((origin, i) => {\n        sum += (currentPop[origin] || 0) * transMatrix[i][j];\n      });\n      newPop[dest] = sum;\n    });\n    return newPop;\n  };\n  const calculateMetrics = (predictions, selectedCountries) => {\n    let totalSquaredError = 0,\n      totalAbsError = 0,\n      totalPoints = 0,\n      coveredPoints = 0;\n    predictions.forEach(pred => {\n      if (pred.actualData && pred.predicted) {\n        selectedCountries.forEach(country => {\n          var _pred$lower, _pred$upper;\n          const actual = pred.actualData[country] || 0;\n          const predicted = pred.predicted[country] || 0;\n          const lower = ((_pred$lower = pred.lower) === null || _pred$lower === void 0 ? void 0 : _pred$lower[country]) || 0;\n          const upper = ((_pred$upper = pred.upper) === null || _pred$upper === void 0 ? void 0 : _pred$upper[country]) || 0;\n          if (actual > 0) {\n            const error = predicted - actual;\n            totalSquaredError += error * error;\n            totalAbsError += Math.abs(error);\n            totalPoints++;\n            if (actual >= lower && actual <= upper) coveredPoints++;\n          }\n        });\n      }\n    });\n    return {\n      rmse: Math.sqrt(totalSquaredError / totalPoints),\n      mae: totalAbsError / totalPoints,\n      coverage: coveredPoints / totalPoints * 100,\n      totalPoints\n    };\n  };\n  const generatePredictions = async () => {\n    if (migrationData.length === 0 || selectedCountries.length < 2) return;\n    setModelRunning(true);\n    setTimeout(() => {\n      const splitIndex = Math.floor(migrationData.length * trainTestSplit);\n      const trainData = migrationData.slice(0, splitIndex);\n      const testData = migrationData.slice(splitIndex);\n      const predictionResults = [],\n        transMatrices = [];\n      let currentPop = getPopulationStock(trainData[0].data, selectedCountries);\n      predictionResults.push({\n        year: trainData[0].year,\n        actual: true,\n        phase: 'train',\n        ...currentPop\n      });\n      for (let t = 1; t < trainData.length; t++) {\n        const flows = getFlows(trainData[t - 1].data, selectedCountries);\n        const transMatrix = estimateTransitionMatrix(flows, selectedCountries, geographicDistances, connectivity, distanceEffect, connectivityEffect);\n        transMatrices.push({\n          year: trainData[t].year,\n          matrix: transMatrix\n        });\n        const ensemble = [];\n        for (let s = 0; s < 100; s++) {\n          const perturbedMatrix = transMatrix.map(row => {\n            const alpha = row.map(p => Math.max(1, p * 100));\n            const perturbed = alpha.map(a => -Math.log(Math.random()) * a);\n            const sum = perturbed.reduce((a, b) => a + b, 0);\n            return perturbed.map(p => p / sum);\n          });\n          ensemble.push(propagatePopulation(currentPop, perturbedMatrix, selectedCountries));\n        }\n        const mean = {},\n          lower = {},\n          upper = {};\n        selectedCountries.forEach(country => {\n          const values = ensemble.map(e => e[country] || 0).sort((a, b) => a - b);\n          mean[country] = values.reduce((a, b) => a + b, 0) / values.length;\n          lower[country] = values[Math.floor(values.length * 0.025)];\n          upper[country] = values[Math.floor(values.length * 0.975)];\n        });\n        currentPop = mean;\n        const actual = getPopulationStock(trainData[t].data, selectedCountries);\n        predictionResults.push({\n          year: trainData[t].year,\n          actual: false,\n          phase: 'train',\n          predicted: mean,\n          actualData: actual,\n          lower,\n          upper,\n          ...mean\n        });\n      }\n      for (let t = 0; t < testData.length; t++) {\n        const flows = getFlows(t === 0 ? trainData[trainData.length - 1].data : testData[t - 1].data, selectedCountries);\n        const transMatrix = estimateTransitionMatrix(flows, selectedCountries, geographicDistances, connectivity, distanceEffect, connectivityEffect);\n        const ensemble = [];\n        for (let s = 0; s < 100; s++) {\n          const perturbedMatrix = transMatrix.map(row => {\n            const alpha = row.map(p => Math.max(1, p * 100));\n            const perturbed = alpha.map(a => -Math.log(Math.random()) * a);\n            const sum = perturbed.reduce((a, b) => a + b, 0);\n            return perturbed.map(p => p / sum);\n          });\n          ensemble.push(propagatePopulation(currentPop, perturbedMatrix, selectedCountries));\n        }\n        const mean = {},\n          lower = {},\n          upper = {};\n        selectedCountries.forEach(country => {\n          const values = ensemble.map(e => e[country] || 0).sort((a, b) => a - b);\n          mean[country] = values.reduce((a, b) => a + b, 0) / values.length;\n          lower[country] = values[Math.floor(values.length * 0.025)];\n          upper[country] = values[Math.floor(values.length * 0.975)];\n        });\n        currentPop = mean;\n        const actual = getPopulationStock(testData[t].data, selectedCountries);\n        predictionResults.push({\n          year: testData[t].year,\n          actual: false,\n          phase: 'test',\n          predicted: mean,\n          actualData: actual,\n          lower,\n          upper,\n          ...mean\n        });\n      }\n      setPredictions(predictionResults);\n      setTransitionMatrices(transMatrices);\n      const testPredictions = predictionResults.filter(p => p.phase === 'test');\n      setValidationMetrics(calculateMetrics(testPredictions, selectedCountries));\n      setLearnedCoefficients({\n        distanceEffect,\n        connectivityEffect\n      });\n      setModelRunning(false);\n    }, 100);\n  };\n  const toggleCountry = country => {\n    setSelectedCountries(prev => {\n      if (prev.includes(country)) return prev.filter(c => c !== country);else if (prev.length < 6) return [...prev, country];\n      return prev;\n    });\n  };\n  useEffect(() => {\n    if (migrationData.length > 0 && selectedCountries.length >= 2) {\n      generatePredictions();\n    } else {\n      setPredictions([]);\n      setValidationMetrics(null);\n      setLearnedCoefficients(null);\n    }\n  }, [migrationData, selectedCountries, distanceEffect, connectivityEffect, trainTestSplit]);\n  const chartDataWithUncertainty = predictions.map(pred => {\n    const dataPoint = {\n      year: pred.year,\n      phase: pred.phase\n    };\n    selectedCountries.forEach(country => {\n      var _pred$predicted;\n      const predictedValue = ((_pred$predicted = pred.predicted) === null || _pred$predicted === void 0 ? void 0 : _pred$predicted[country]) || pred[country] || 0;\n      dataPoint[country] = predictedValue;\n      if (pred.lower && pred.upper) {\n        dataPoint[`${country}_lower`] = pred.lower[country] || 0;\n        dataPoint[`${country}_upper`] = pred.upper[country] || 0;\n      }\n      if (pred.actualData && pred.actualData[country]) {\n        dataPoint[`${country}_actual`] = pred.actualData[country];\n      }\n    });\n    return dataPoint;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white p-6 overflow-y-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold mb-2\",\n            children: \"OECD Migration Model - VS Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-slate-300\",\n            children: \"Geography-Aware Bayesian Transition Matrix (2000-2020)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowInfo(!showInfo),\n          className: \"p-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(Info, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), loadingData && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 p-4 bg-yellow-900/30 border border-yellow-600 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-yellow-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-yellow-400\",\n              children: \"Loading Migration Data...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-slate-300\",\n              children: \"Check console (F12) for loading progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this), showInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 p-4 bg-slate-800 rounded-lg border border-slate-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold mb-2 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Database, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this), \"Enhanced Model Features\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"text-sm text-slate-300 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u2705 Real geographic distances (Haversine formula)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u2705 Connectivity matrices (shared borders)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u2705 Learned coefficients (distance & connectivity)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u2705 Train/test split validation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u2705 RMSE, MAE, Coverage metrics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u2705 95% Credible Intervals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u2705 Bayesian ensemble (100 samples)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 p-3 bg-green-900/30 border border-green-600 rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-green-300\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u2713 VS Code Ready:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 17\n            }, this), \" Uses fetch API to load CSV files from public folder\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 p-4 bg-slate-800 rounded-lg border border-slate-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold\",\n            children: \"Select Countries (minimum 2, maximum 6)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-sm ${selectedCountries.length >= 2 ? 'text-green-400' : 'text-orange-400'}`,\n            children: [selectedCountries.length, \"/6 selected \", selectedCountries.length < 2 && '(need at least 2)']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this), loadingData ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-slate-400 text-center py-4\",\n          children: \"Loading countries...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this) : allCountries.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-400 text-center py-4\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"inline mr-2\",\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this), \"No countries loaded. Check that CSV files are in the public folder.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2\",\n          children: allCountries.slice(0, 24).map(country => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => toggleCountry(country),\n            className: `px-3 py-2 rounded text-sm transition-colors ${selectedCountries.includes(country) ? 'bg-green-600 hover:bg-green-700' : 'bg-slate-700 hover:bg-slate-600'}`,\n            children: country\n          }, country, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-800 p-4 rounded-lg border border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold mb-3 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Settings, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 15\n            }, this), \"Geography Coefficients\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-slate-400\",\n                children: [\"Distance Effect: \", distanceEffect.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"1\",\n                step: \"0.05\",\n                value: distanceEffect,\n                onChange: e => setDistanceEffect(parseFloat(e.target.value)),\n                className: \"w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-slate-500\",\n                children: \"Higher = distance matters more\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-slate-400\",\n                children: [\"Connectivity Effect: \", connectivityEffect.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"1\",\n                step: \"0.05\",\n                value: connectivityEffect,\n                onChange: e => setConnectivityEffect(parseFloat(e.target.value)),\n                className: \"w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-slate-500\",\n                children: \"Higher = borders matter more\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-800 p-4 rounded-lg border border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold mb-3\",\n            children: \"Validation Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-slate-400\",\n                children: [\"Train/Test Split: \", (trainTestSplit * 100).toFixed(0), \"% train\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0.5\",\n                max: \"0.9\",\n                step: \"0.05\",\n                value: trainTestSplit,\n                onChange: e => setTrainTestSplit(parseFloat(e.target.value)),\n                className: \"w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: generatePredictions,\n              disabled: modelRunning || selectedCountries.length < 2 || loadingData,\n              className: `w-full flex items-center justify-center gap-2 py-3 rounded-lg transition-all ${modelRunning || selectedCountries.length < 2 || loadingData ? 'bg-slate-600 cursor-not-allowed opacity-50' : 'bg-green-600 hover:bg-green-700'}`,\n              children: modelRunning ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 21\n                }, this), \"Running...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Play, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 24\n                }, this), \"Run Model\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this), validationMetrics && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-4 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-800 p-4 rounded-lg border border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-400 mb-1\",\n            children: \"RMSE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-red-400\",\n            children: validationMetrics.rmse.toLocaleString(undefined, {\n              maximumFractionDigits: 0\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-500\",\n            children: \"Root Mean Squared Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-800 p-4 rounded-lg border border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-400 mb-1\",\n            children: \"MAE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-orange-400\",\n            children: validationMetrics.mae.toLocaleString(undefined, {\n              maximumFractionDigits: 0\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-500\",\n            children: \"Mean Absolute Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-800 p-4 rounded-lg border border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-400 mb-1\",\n            children: \"Coverage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-green-400\",\n            children: [validationMetrics.coverage.toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-500\",\n            children: \"95% CI Coverage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-800 p-4 rounded-lg border border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-400 mb-1\",\n            children: \"Test Points\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-teal-400\",\n            children: validationMetrics.totalPoints\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-500\",\n            children: \"Validation samples\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 11\n      }, this), selectedCountries.length < 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-800 p-8 rounded-lg border border-slate-700 mb-6 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"mx-auto mb-4 text-yellow-500\",\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold mb-2 text-yellow-400\",\n          children: \"Select At Least 2 Countries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-400 mb-4\",\n          children: \"Migration model requires 2+ countries to analyze flows.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-500 text-sm\",\n          children: \"You'll see:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"text-slate-500 text-sm mt-2 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\uD83D\\uDCC8 Line chart: Foreign population stock (2000-2020)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\uD83C\\uDFAF Colored lines (solid=predicted, dashed=actual)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\uD83D\\uDCCA Validation metrics (RMSE, MAE, Coverage)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\uD83D\\uDD22 Transition matrices between countries\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\uD83C\\uDF0D Geography coefficients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 11\n      }, this) : predictions.length > 0 && chartDataWithUncertainty.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-800 p-4 rounded-lg border border-slate-700 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold mb-4\",\n          children: \"Population Evolution with 95% Credible Intervals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 text-sm text-slate-400\",\n          children: [chartDataWithUncertainty.length, \" data points | Countries: \", selectedCountries.join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-900 p-2 rounded\",\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 400,\n            children: /*#__PURE__*/_jsxDEV(LineChart, {\n              data: chartDataWithUncertainty,\n              margin: {\n                top: 5,\n                right: 30,\n                left: 20,\n                bottom: 5\n              },\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\",\n                stroke: \"#64748b\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"year\",\n                stroke: \"#f1f5f9\",\n                style: {\n                  fontSize: '14px',\n                  fontWeight: 'bold'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                stroke: \"#f1f5f9\",\n                style: {\n                  fontSize: '14px',\n                  fontWeight: 'bold'\n                },\n                tickFormatter: value => {\n                  if (value >= 1000000) return `${(value / 1000000).toFixed(1)}M`;\n                  if (value >= 1000) return `${(value / 1000).toFixed(0)}K`;\n                  return value;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                contentStyle: {\n                  backgroundColor: '#0f172a',\n                  border: '2px solid #10b981',\n                  borderRadius: '8px',\n                  padding: '12px'\n                },\n                labelStyle: {\n                  color: '#f1f5f9',\n                  fontWeight: 'bold',\n                  marginBottom: '8px'\n                },\n                itemStyle: {\n                  color: '#f1f5f9'\n                },\n                formatter: value => value ? ['Population: ' + value.toLocaleString(undefined, {\n                  maximumFractionDigits: 0\n                }), ''] : ['N/A', '']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                wrapperStyle: {\n                  paddingTop: '20px'\n                },\n                iconType: \"line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 19\n              }, this), selectedCountries.map((country, i) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: country,\n                  stroke: colors[i],\n                  strokeWidth: 4,\n                  dot: {\n                    r: 5,\n                    fill: colors[i],\n                    strokeWidth: 0\n                  },\n                  activeDot: {\n                    r: 8,\n                    stroke: '#fff',\n                    strokeWidth: 2\n                  },\n                  name: `${country} (predicted)`,\n                  connectNulls: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 23\n                }, this), chartDataWithUncertainty.some(d => d[`${country}_actual`]) && /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: `${country}_actual`,\n                  stroke: dotColors[i],\n                  strokeWidth: 3,\n                  strokeDasharray: \"10 5\",\n                  dot: {\n                    r: 4,\n                    fill: dotColors[i],\n                    strokeWidth: 0\n                  },\n                  name: `${country} (actual)`,\n                  connectNulls: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 591,\n                  columnNumber: 25\n                }, this)]\n              }, country, true, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4 mt-4 text-sm text-slate-300 flex-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-1 bg-red-500 rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Solid = Predicted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-1 bg-red-700 rounded\",\n              style: {\n                backgroundImage: 'repeating-linear-gradient(90deg, #dc2626 0, #dc2626 10px, transparent 10px, transparent 15px)'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Dashed = Actual (darker)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-500\",\n            children: \"Colors: \\uD83D\\uDD34 Red, \\uD83D\\uDFE2 Green, \\uD83D\\uDFE0 Orange, \\uD83D\\uDFE3 Purple, \\uD83E\\uDE77 Pink, \\uD83D\\uDD35 Teal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 11\n      }, this) : null, learnedCoefficients && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-800 p-4 rounded-lg border border-slate-700 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold mb-4 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 15\n          }, this), \"Learned Model Coefficients\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 200,\n          children: /*#__PURE__*/_jsxDEV(BarChart, {\n            data: [{\n              name: 'Distance Effect',\n              value: learnedCoefficients.distanceEffect\n            }, {\n              name: 'Connectivity Effect',\n              value: learnedCoefficients.connectivityEffect\n            }],\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\",\n              stroke: \"#475569\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"name\",\n              stroke: \"#94a3b8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n              stroke: \"#94a3b8\",\n              domain: [0, 1]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              contentStyle: {\n                backgroundColor: '#1e293b',\n                border: '1px solid #475569'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"value\",\n              fill: \"#10b981\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 p-3 bg-slate-900 rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-slate-300\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Interpretation:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 17\n            }, this), \" Distance effect of \", learnedCoefficients.distanceEffect.toFixed(2), \" means migration probability decreases by ~\", (learnedCoefficients.distanceEffect * 100).toFixed(0), \"% per 1000km. Connectivity effect of \", learnedCoefficients.connectivityEffect.toFixed(2), \" shows\", learnedCoefficients.connectivityEffect > 0.3 ? ' strong ' : ' moderate ', \"preference for neighboring countries.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 11\n      }, this), transitionMatrices.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-800 p-4 rounded-lg border border-slate-700 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold mb-4\",\n          children: [\"Transition Matrix (\", transitionMatrices[0].year, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-b border-slate-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-2 text-left\",\n                  children: \"From / To\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 21\n                }, this), selectedCountries.map((country, i) => /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-2 text-right\",\n                  children: country.substring(0, 10)\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 655,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: transitionMatrices[0].matrix.map((row, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-b border-slate-700/50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 font-medium\",\n                  children: selectedCountries[i].substring(0, 15)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 662,\n                  columnNumber: 23\n                }, this), row.map((val, j) => /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 text-right\",\n                  style: {\n                    backgroundColor: i === j ? 'rgba(16, 185, 129, 0.3)' : `rgba(239, 68, 68, ${Math.min(val * 2, 0.8)})`\n                  },\n                  children: [(val * 100).toFixed(1), \"%\"]\n                }, j, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 25\n                }, this))]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 11\n      }, this), predictions.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-800 p-4 rounded-lg border border-slate-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold mb-4\",\n          children: \"Model Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-slate-300 mb-2\",\n              children: \"Data Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-1 text-slate-400\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 Total years: \", years.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 Training years: \", Math.floor(years.length * trainTestSplit)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 689,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 Testing years: \", years.length - Math.floor(years.length * trainTestSplit)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 Countries analyzed: \", selectedCountries.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Ensemble samples: 100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-slate-300 mb-2\",\n              children: \"Geographic Features\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-1 text-slate-400\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Real Haversine distances used\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Border connectivity incorporated\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 Distance decay: exp(-\", distanceEffect.toFixed(2), \" \\xD7 km/1000)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 Connectivity bonus: 1 + \", connectivityEffect.toFixed(2), \" \\xD7 border\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 Transition matrices: \", transitionMatrices.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 397,\n    columnNumber: 5\n  }, this);\n};\n_s(PopulationMigrationModel, \"c7wkf2KBxCzOyNSjYoKPkuk0Zc0=\");\n_c = PopulationMigrationModel;\nexport default PopulationMigrationModel;\nvar _c;\n$RefreshReg$(_c, \"PopulationMigrationModel\");","map":{"version":3,"names":["React","useState","useEffect","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","BarChart","Bar","Play","Settings","Info","Database","TrendingUp","AlertCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","PopulationMigrationModel","_s","selectedCountries","setSelectedCountries","showInfo","setShowInfo","distanceEffect","setDistanceEffect","connectivityEffect","setConnectivityEffect","trainTestSplit","setTrainTestSplit","modelRunning","setModelRunning","loadingData","setLoadingData","migrationData","setMigrationData","years","setYears","allCountries","setAllCountries","transitionMatrices","setTransitionMatrices","predictions","setPredictions","geographicDistances","setGeographicDistances","connectivity","setConnectivity","validationMetrics","setValidationMetrics","learnedCoefficients","setLearnedCoefficients","colors","dotColors","countryCoordinates","parseCSV","text","lines","trim","split","headers","slice","map","line","values","obj","forEach","header","i","haversineDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","c","atan2","sqrt","calculateConnectivity","c1","c2","_neighbors$c","neighbors","includes","loadData","yearFiles","yearToPrefix","dataByYear","countriesSet","Set","filesLoaded","year","filename","console","log","response","fetch","ok","parsed","push","parseInt","data","row","Country","add","err","message","length","error","alert","d","Array","from","sort","distances","conn","getPopulationStock","yearData","countries","result","country","find","r","stock","parseFloat","isNaN","getFlows","flows","inflow","outflow","estimateTransitionMatrix","distCoeff","connCoeff","n","matrix","fill","origin","originFlow","totalOutflow","stayProb","max","remainingProb","weightSum","weights","dest","j","_distances$origin","_conn$origin","destFlow","attractiveness","distance","exp","connectivityBonus","weight","rowSum","reduce","b","v","propagatePopulation","currentPop","transMatrix","newPop","sum","calculateMetrics","totalSquaredError","totalAbsError","totalPoints","coveredPoints","pred","actualData","predicted","_pred$lower","_pred$upper","actual","lower","upper","abs","rmse","mae","coverage","generatePredictions","setTimeout","splitIndex","floor","trainData","testData","predictionResults","transMatrices","phase","t","ensemble","s","perturbedMatrix","alpha","p","perturbed","random","mean","e","testPredictions","filter","toggleCountry","prev","chartDataWithUncertainty","dataPoint","_pred$predicted","predictedValue","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","toFixed","type","min","step","value","onChange","target","disabled","toLocaleString","undefined","maximumFractionDigits","join","width","height","margin","top","right","left","bottom","strokeDasharray","stroke","dataKey","style","fontSize","fontWeight","tickFormatter","contentStyle","backgroundColor","border","borderRadius","padding","labelStyle","color","marginBottom","itemStyle","formatter","wrapperStyle","paddingTop","iconType","strokeWidth","dot","activeDot","name","connectNulls","some","backgroundImage","domain","substring","val","_c","$RefreshReg$"],"sources":["C:/Users/gaura/OneDrive/Desktop/Projects/MigrationProject/migration-model/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar } from 'recharts';\nimport { Play, Settings, Info, Database, TrendingUp, AlertCircle } from 'lucide-react';\n\nconst PopulationMigrationModel = () => {\n  const [selectedCountries, setSelectedCountries] = useState([]);\n  const [showInfo, setShowInfo] = useState(false);\n  const [distanceEffect, setDistanceEffect] = useState(0.5);\n  const [connectivityEffect, setConnectivityEffect] = useState(0.3);\n  const [trainTestSplit, setTrainTestSplit] = useState(0.75);\n  const [modelRunning, setModelRunning] = useState(false);\n  const [loadingData, setLoadingData] = useState(true);\n  \n  const [migrationData, setMigrationData] = useState([]);\n  const [years, setYears] = useState([]);\n  const [allCountries, setAllCountries] = useState([]);\n  const [transitionMatrices, setTransitionMatrices] = useState([]);\n  const [predictions, setPredictions] = useState([]);\n  const [geographicDistances, setGeographicDistances] = useState({});\n  const [connectivity, setConnectivity] = useState({});\n  const [validationMetrics, setValidationMetrics] = useState(null);\n  const [learnedCoefficients, setLearnedCoefficients] = useState(null);\n\n  const colors = ['#ef4444', '#10b981', '#f59e0b', '#8b5cf6', '#ec4899', '#14b8a6'];\n  const dotColors = ['#dc2626', '#059669', '#d97706', '#7c3aed', '#db2777', '#0d9488'];\n\n  const countryCoordinates = {\n    'United States': [37.0902, -95.7129], 'Germany': [51.1657, 10.4515], 'United Kingdom': [55.3781, -3.4360],\n    'Canada': [56.1304, -106.3468], 'France': [46.2276, 2.2137], 'Australia': [-25.2744, 133.7751],\n    'Japan': [36.2048, 138.2529], 'Italy': [41.8719, 12.5674], 'Spain': [40.4637, -3.7492],\n    'Mexico': [23.6345, -102.5528], 'Netherlands': [52.1326, 5.2913], 'Sweden': [60.1282, 18.6435],\n    'Switzerland': [46.8182, 8.2275], 'Belgium': [50.5039, 4.4699], 'Austria': [47.5162, 14.5501],\n    'Poland': [51.9194, 19.1451], 'Norway': [60.4720, 8.4689], 'Denmark': [56.2639, 9.5018],\n    'Finland': [61.9241, 25.7482], 'Greece': [39.0742, 21.8243], 'Portugal': [39.3999, -8.2245],\n    'Czech Republic': [49.8175, 15.4730], 'Hungary': [47.1625, 19.5033], 'Ireland': [53.4129, -8.2439],\n    'New Zealand': [-40.9006, 174.8860],\n  };\n\n  const parseCSV = (text) => {\n    const lines = text.trim().split('\\n');\n    const headers = lines[0].split(',');\n    return lines.slice(1).map(line => {\n      const values = line.split(',');\n      const obj = {};\n      headers.forEach((header, i) => { obj[header] = values[i]; });\n      return obj;\n    });\n  };\n\n  const haversineDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371;\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n              Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\n              Math.sin(dLon/2) * Math.sin(dLon/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n    return R * c;\n  };\n\n  const calculateConnectivity = (c1, c2) => {\n    const neighbors = {\n      'United States': ['Canada', 'Mexico'], 'Canada': ['United States'], 'Mexico': ['United States'],\n      'Germany': ['France', 'Austria', 'Switzerland', 'Belgium', 'Netherlands', 'Poland', 'Czech Republic', 'Denmark'],\n      'France': ['Germany', 'Belgium', 'Switzerland', 'Italy', 'Spain'], 'United Kingdom': ['Ireland'],\n      'Ireland': ['United Kingdom'], 'Italy': ['France', 'Switzerland', 'Austria'],\n      'Spain': ['France', 'Portugal'], 'Portugal': ['Spain'], 'Belgium': ['France', 'Germany', 'Netherlands'],\n      'Netherlands': ['Germany', 'Belgium'], 'Austria': ['Germany', 'Switzerland', 'Italy', 'Czech Republic', 'Hungary'],\n      'Switzerland': ['Germany', 'France', 'Italy', 'Austria'], 'Poland': ['Germany', 'Czech Republic'],\n      'Czech Republic': ['Germany', 'Poland', 'Austria'], 'Denmark': ['Germany', 'Sweden', 'Norway'],\n      'Sweden': ['Norway', 'Finland', 'Denmark'], 'Norway': ['Sweden', 'Finland', 'Denmark'],\n      'Finland': ['Sweden', 'Norway'], 'Hungary': ['Austria'], 'Greece': [],\n    };\n    return neighbors[c1]?.includes(c2) ? 1.0 : 0.0;\n  };\n\n  // MODIFIED FOR VS CODE - Uses fetch API instead of window.fs\n  useEffect(() => {\n    const loadData = async () => {\n      setLoadingData(true);\n      try {\n        const yearFiles = ['2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007',\n          '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015',\n          '2016', '2017', '2018', '2019', '2020'];\n        \n        const yearToPrefix = {\n          '2000': '1761981849080', '2001': '1761981849081', '2002': '1761981849081', '2003': '1761981849081',\n          '2004': '1761981849082', '2005': '1761981849082', '2006': '1761981849083', '2007': '1761981849083',\n          '2008': '1761981849084', '2009': '1761981849084', '2010': '1761981849085', '2011': '1761981849085',\n          '2012': '1761981849086', '2013': '1761981849086', '2014': '1761981849086', '2015': '1761981849087',\n          '2016': '1761981849087', '2017': '1761981849087', '2018': '1761981849088', '2019': '1761981849077',\n          '2020': '1761981863298'\n        };\n        \n        const dataByYear = [];\n        const countriesSet = new Set();\n        let filesLoaded = 0;\n        \n        for (const year of yearFiles) {\n          try {\n            // Use fetch API for VS Code\n            const filename = `/${yearToPrefix[year]}_migration_${year}.csv`;\n            console.log(`Attempting to load: ${filename}`);\n            \n            const response = await fetch(filename);\n            if (!response.ok) {\n              console.log(`File not found: ${filename}`);\n              continue;\n            }\n            \n            const text = await response.text();\n            const parsed = parseCSV(text);\n            \n            dataByYear.push({ year: parseInt(year), data: parsed });\n            parsed.forEach(row => {\n              if (row.Country && countryCoordinates[row.Country]) {\n                countriesSet.add(row.Country);\n              }\n            });\n            filesLoaded++;\n            console.log(`✓ Loaded ${filename} (${filesLoaded} files total)`);\n          } catch (err) {\n            console.log(`Could not load ${year}:`, err.message);\n          }\n        }\n        \n        console.log(`Total files loaded: ${filesLoaded}`);\n        \n        if (dataByYear.length === 0) {\n          console.error('No migration data files could be loaded.');\n          alert('⚠️ No CSV files found!\\n\\nMake sure to:\\n1. Place all CSV files in the \"public\" folder\\n2. Keep the timestamp prefixes in filenames');\n          setLoadingData(false);\n          return;\n        }\n        \n        setMigrationData(dataByYear);\n        setYears(dataByYear.map(d => d.year));\n        setAllCountries(Array.from(countriesSet).sort());\n        \n        const distances = {}, conn = {};\n        Array.from(countriesSet).forEach(c1 => {\n          distances[c1] = {}; conn[c1] = {};\n          Array.from(countriesSet).forEach(c2 => {\n            if (c1 === c2) {\n              distances[c1][c2] = 0; conn[c1][c2] = 0;\n            } else {\n              const [lat1, lon1] = countryCoordinates[c1] || [0, 0];\n              const [lat2, lon2] = countryCoordinates[c2] || [0, 0];\n              distances[c1][c2] = haversineDistance(lat1, lon1, lat2, lon2);\n              conn[c1][c2] = calculateConnectivity(c1, c2);\n            }\n          });\n        });\n        setGeographicDistances(distances);\n        setConnectivity(conn);\n        setLoadingData(false);\n        console.log('✅ Data loading complete!');\n      } catch (error) {\n        console.error('Error loading data:', error);\n        setLoadingData(false);\n      }\n    };\n    loadData();\n  }, []);\n\n  const getPopulationStock = (yearData, countries) => {\n    const result = {};\n    countries.forEach(country => {\n      const row = yearData.find(r => r.Country === country);\n      if (row) {\n        const stock = parseFloat(row['Stock of foreign population by nationality(Total)']);\n        result[country] = isNaN(stock) ? 0 : stock;\n      } else {\n        result[country] = 0;\n      }\n    });\n    return result;\n  };\n\n  const getFlows = (yearData, countries) => {\n    const flows = {};\n    countries.forEach(country => {\n      const row = yearData.find(r => r.Country === country);\n      if (row) {\n        flows[country] = {\n          inflow: parseFloat(row['Inflows of foreign population by nationality(Total)'] || 0) || 0,\n          outflow: parseFloat(row['Outflows of foreign population by nationality(Total)'] || 0) || 0,\n          stock: parseFloat(row['Stock of foreign population by nationality(Total)'] || 0) || 0\n        };\n      }\n    });\n    return flows;\n  };\n\n  const estimateTransitionMatrix = (flows, countries, distances, conn, distCoeff, connCoeff) => {\n    const n = countries.length;\n    const matrix = Array(n).fill(0).map(() => Array(n).fill(0));\n    \n    countries.forEach((origin, i) => {\n      const originFlow = flows[origin];\n      if (!originFlow || originFlow.stock === 0) {\n        matrix[i][i] = 1.0;\n        return;\n      }\n      \n      const totalOutflow = originFlow.outflow || 0;\n      const stayProb = Math.max(0.5, 1 - (totalOutflow / originFlow.stock));\n      matrix[i][i] = stayProb;\n      \n      const remainingProb = 1 - stayProb;\n      let weightSum = 0;\n      const weights = [];\n      \n      countries.forEach((dest, j) => {\n        if (i !== j) {\n          const destFlow = flows[dest];\n          const attractiveness = destFlow ? Math.log(destFlow.inflow + 10) : 1;\n          const distance = distances[origin]?.[dest] || 3000;\n          const connectivity = conn[origin]?.[dest] || 0;\n          const distanceEffect = Math.exp(-distCoeff * distance / 1000);\n          const connectivityBonus = 1 + connCoeff * connectivity;\n          const weight = attractiveness * distanceEffect * connectivityBonus;\n          weights.push(weight);\n          weightSum += weight;\n        } else {\n          weights.push(0);\n        }\n      });\n      \n      countries.forEach((dest, j) => {\n        if (i !== j && weightSum > 0) {\n          matrix[i][j] = remainingProb * (weights[j] / weightSum);\n        }\n      });\n      \n      const rowSum = matrix[i].reduce((a, b) => a + b, 0);\n      if (rowSum > 0) {\n        matrix[i] = matrix[i].map(v => v / rowSum);\n      }\n    });\n    return matrix;\n  };\n\n  const propagatePopulation = (currentPop, transMatrix, countries) => {\n    const newPop = {};\n    countries.forEach((dest, j) => {\n      let sum = 0;\n      countries.forEach((origin, i) => {\n        sum += (currentPop[origin] || 0) * transMatrix[i][j];\n      });\n      newPop[dest] = sum;\n    });\n    return newPop;\n  };\n\n  const calculateMetrics = (predictions, selectedCountries) => {\n    let totalSquaredError = 0, totalAbsError = 0, totalPoints = 0, coveredPoints = 0;\n    predictions.forEach(pred => {\n      if (pred.actualData && pred.predicted) {\n        selectedCountries.forEach(country => {\n          const actual = pred.actualData[country] || 0;\n          const predicted = pred.predicted[country] || 0;\n          const lower = pred.lower?.[country] || 0;\n          const upper = pred.upper?.[country] || 0;\n          if (actual > 0) {\n            const error = predicted - actual;\n            totalSquaredError += error * error;\n            totalAbsError += Math.abs(error);\n            totalPoints++;\n            if (actual >= lower && actual <= upper) coveredPoints++;\n          }\n        });\n      }\n    });\n    return { \n      rmse: Math.sqrt(totalSquaredError / totalPoints), \n      mae: totalAbsError / totalPoints, \n      coverage: (coveredPoints / totalPoints) * 100, \n      totalPoints \n    };\n  };\n\n  const generatePredictions = async () => {\n    if (migrationData.length === 0 || selectedCountries.length < 2) return;\n    setModelRunning(true);\n    \n    setTimeout(() => {\n      const splitIndex = Math.floor(migrationData.length * trainTestSplit);\n      const trainData = migrationData.slice(0, splitIndex);\n      const testData = migrationData.slice(splitIndex);\n      const predictionResults = [], transMatrices = [];\n      \n      let currentPop = getPopulationStock(trainData[0].data, selectedCountries);\n      predictionResults.push({ year: trainData[0].year, actual: true, phase: 'train', ...currentPop });\n      \n      for (let t = 1; t < trainData.length; t++) {\n        const flows = getFlows(trainData[t-1].data, selectedCountries);\n        const transMatrix = estimateTransitionMatrix(flows, selectedCountries, geographicDistances, connectivity, distanceEffect, connectivityEffect);\n        transMatrices.push({ year: trainData[t].year, matrix: transMatrix });\n        \n        const ensemble = [];\n        for (let s = 0; s < 100; s++) {\n          const perturbedMatrix = transMatrix.map(row => {\n            const alpha = row.map(p => Math.max(1, p * 100));\n            const perturbed = alpha.map(a => -Math.log(Math.random()) * a);\n            const sum = perturbed.reduce((a, b) => a + b, 0);\n            return perturbed.map(p => p / sum);\n          });\n          ensemble.push(propagatePopulation(currentPop, perturbedMatrix, selectedCountries));\n        }\n        \n        const mean = {}, lower = {}, upper = {};\n        selectedCountries.forEach(country => {\n          const values = ensemble.map(e => e[country] || 0).sort((a, b) => a - b);\n          mean[country] = values.reduce((a, b) => a + b, 0) / values.length;\n          lower[country] = values[Math.floor(values.length * 0.025)];\n          upper[country] = values[Math.floor(values.length * 0.975)];\n        });\n        \n        currentPop = mean;\n        const actual = getPopulationStock(trainData[t].data, selectedCountries);\n        predictionResults.push({ year: trainData[t].year, actual: false, phase: 'train', predicted: mean, actualData: actual, lower, upper, ...mean });\n      }\n      \n      for (let t = 0; t < testData.length; t++) {\n        const flows = getFlows(t === 0 ? trainData[trainData.length - 1].data : testData[t-1].data, selectedCountries);\n        const transMatrix = estimateTransitionMatrix(flows, selectedCountries, geographicDistances, connectivity, distanceEffect, connectivityEffect);\n        \n        const ensemble = [];\n        for (let s = 0; s < 100; s++) {\n          const perturbedMatrix = transMatrix.map(row => {\n            const alpha = row.map(p => Math.max(1, p * 100));\n            const perturbed = alpha.map(a => -Math.log(Math.random()) * a);\n            const sum = perturbed.reduce((a, b) => a + b, 0);\n            return perturbed.map(p => p / sum);\n          });\n          ensemble.push(propagatePopulation(currentPop, perturbedMatrix, selectedCountries));\n        }\n        \n        const mean = {}, lower = {}, upper = {};\n        selectedCountries.forEach(country => {\n          const values = ensemble.map(e => e[country] || 0).sort((a, b) => a - b);\n          mean[country] = values.reduce((a, b) => a + b, 0) / values.length;\n          lower[country] = values[Math.floor(values.length * 0.025)];\n          upper[country] = values[Math.floor(values.length * 0.975)];\n        });\n        \n        currentPop = mean;\n        const actual = getPopulationStock(testData[t].data, selectedCountries);\n        predictionResults.push({ year: testData[t].year, actual: false, phase: 'test', predicted: mean, actualData: actual, lower, upper, ...mean });\n      }\n      \n      setPredictions(predictionResults);\n      setTransitionMatrices(transMatrices);\n      const testPredictions = predictionResults.filter(p => p.phase === 'test');\n      setValidationMetrics(calculateMetrics(testPredictions, selectedCountries));\n      setLearnedCoefficients({ distanceEffect, connectivityEffect });\n      setModelRunning(false);\n    }, 100);\n  };\n\n  const toggleCountry = (country) => {\n    setSelectedCountries(prev => {\n      if (prev.includes(country)) return prev.filter(c => c !== country);\n      else if (prev.length < 6) return [...prev, country];\n      return prev;\n    });\n  };\n\n  useEffect(() => {\n    if (migrationData.length > 0 && selectedCountries.length >= 2) {\n      generatePredictions();\n    } else {\n      setPredictions([]);\n      setValidationMetrics(null);\n      setLearnedCoefficients(null);\n    }\n  }, [migrationData, selectedCountries, distanceEffect, connectivityEffect, trainTestSplit]);\n\n  const chartDataWithUncertainty = predictions.map((pred) => {\n    const dataPoint = { year: pred.year, phase: pred.phase };\n    selectedCountries.forEach((country) => {\n      const predictedValue = pred.predicted?.[country] || pred[country] || 0;\n      dataPoint[country] = predictedValue;\n      if (pred.lower && pred.upper) {\n        dataPoint[`${country}_lower`] = pred.lower[country] || 0;\n        dataPoint[`${country}_upper`] = pred.upper[country] || 0;\n      }\n      if (pred.actualData && pred.actualData[country]) {\n        dataPoint[`${country}_actual`] = pred.actualData[country];\n      }\n    });\n    return dataPoint;\n  });\n\n  return (\n    <div className=\"w-full min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white p-6 overflow-y-auto\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h1 className=\"text-3xl font-bold mb-2\">OECD Migration Model - VS Code</h1>\n            <p className=\"text-slate-300\">Geography-Aware Bayesian Transition Matrix (2000-2020)</p>\n          </div>\n          <button onClick={() => setShowInfo(!showInfo)} className=\"p-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors\">\n            <Info size={24} />\n          </button>\n        </div>\n\n        {loadingData && (\n          <div className=\"mb-6 p-4 bg-yellow-900/30 border border-yellow-600 rounded-lg\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-yellow-400\"></div>\n              <div>\n                <h3 className=\"font-bold text-yellow-400\">Loading Migration Data...</h3>\n                <p className=\"text-sm text-slate-300\">Check console (F12) for loading progress</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {showInfo && (\n          <div className=\"mb-6 p-4 bg-slate-800 rounded-lg border border-slate-700\">\n            <h3 className=\"font-bold mb-2 flex items-center gap-2\">\n              <Database size={20} />\n              Enhanced Model Features\n            </h3>\n            <ul className=\"text-sm text-slate-300 space-y-1\">\n              <li>✅ Real geographic distances (Haversine formula)</li>\n              <li>✅ Connectivity matrices (shared borders)</li>\n              <li>✅ Learned coefficients (distance & connectivity)</li>\n              <li>✅ Train/test split validation</li>\n              <li>✅ RMSE, MAE, Coverage metrics</li>\n              <li>✅ 95% Credible Intervals</li>\n              <li>✅ Bayesian ensemble (100 samples)</li>\n            </ul>\n            <div className=\"mt-3 p-3 bg-green-900/30 border border-green-600 rounded\">\n              <p className=\"text-sm text-green-300\">\n                <strong>✓ VS Code Ready:</strong> Uses fetch API to load CSV files from public folder\n              </p>\n            </div>\n          </div>\n        )}\n\n        <div className=\"mb-6 p-4 bg-slate-800 rounded-lg border border-slate-700\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h3 className=\"font-bold\">Select Countries (minimum 2, maximum 6)</h3>\n            <span className={`text-sm ${selectedCountries.length >= 2 ? 'text-green-400' : 'text-orange-400'}`}>\n              {selectedCountries.length}/6 selected {selectedCountries.length < 2 && '(need at least 2)'}\n            </span>\n          </div>\n          {loadingData ? (\n            <div className=\"text-slate-400 text-center py-4\">Loading countries...</div>\n          ) : allCountries.length === 0 ? (\n            <div className=\"text-red-400 text-center py-4\">\n              <AlertCircle className=\"inline mr-2\" size={20} />\n              No countries loaded. Check that CSV files are in the public folder.\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2\">\n              {allCountries.slice(0, 24).map((country) => (\n                <button key={country} onClick={() => toggleCountry(country)}\n                  className={`px-3 py-2 rounded text-sm transition-colors ${\n                    selectedCountries.includes(country) ? 'bg-green-600 hover:bg-green-700' : 'bg-slate-700 hover:bg-slate-600'\n                  }`}>\n                  {country}\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6\">\n          <div className=\"bg-slate-800 p-4 rounded-lg border border-slate-700\">\n            <h3 className=\"font-bold mb-3 flex items-center gap-2\">\n              <Settings size={20} />\n              Geography Coefficients\n            </h3>\n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"text-sm text-slate-400\">Distance Effect: {distanceEffect.toFixed(2)}</label>\n                <input type=\"range\" min=\"0\" max=\"1\" step=\"0.05\" value={distanceEffect}\n                  onChange={(e) => setDistanceEffect(parseFloat(e.target.value))} className=\"w-full\" />\n                <p className=\"text-xs text-slate-500\">Higher = distance matters more</p>\n              </div>\n              <div>\n                <label className=\"text-sm text-slate-400\">Connectivity Effect: {connectivityEffect.toFixed(2)}</label>\n                <input type=\"range\" min=\"0\" max=\"1\" step=\"0.05\" value={connectivityEffect}\n                  onChange={(e) => setConnectivityEffect(parseFloat(e.target.value))} className=\"w-full\" />\n                <p className=\"text-xs text-slate-500\">Higher = borders matter more</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-slate-800 p-4 rounded-lg border border-slate-700\">\n            <h3 className=\"font-bold mb-3\">Validation Settings</h3>\n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"text-sm text-slate-400\">Train/Test Split: {(trainTestSplit * 100).toFixed(0)}% train</label>\n                <input type=\"range\" min=\"0.5\" max=\"0.9\" step=\"0.05\" value={trainTestSplit}\n                  onChange={(e) => setTrainTestSplit(parseFloat(e.target.value))} className=\"w-full\" />\n              </div>\n              <button onClick={generatePredictions} disabled={modelRunning || selectedCountries.length < 2 || loadingData}\n                className={`w-full flex items-center justify-center gap-2 py-3 rounded-lg transition-all ${\n                  modelRunning || selectedCountries.length < 2 || loadingData ? 'bg-slate-600 cursor-not-allowed opacity-50' : 'bg-green-600 hover:bg-green-700'\n                }`}>\n                {modelRunning ? (\n                  <><div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>Running...</>\n                ) : (<><Play size={20} />Run Model</>)}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {validationMetrics && (\n          <div className=\"grid grid-cols-4 gap-4 mb-6\">\n            <div className=\"bg-slate-800 p-4 rounded-lg border border-slate-700\">\n              <div className=\"text-sm text-slate-400 mb-1\">RMSE</div>\n              <div className=\"text-2xl font-bold text-red-400\">\n                {validationMetrics.rmse.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n              </div>\n              <div className=\"text-xs text-slate-500\">Root Mean Squared Error</div>\n            </div>\n            <div className=\"bg-slate-800 p-4 rounded-lg border border-slate-700\">\n              <div className=\"text-sm text-slate-400 mb-1\">MAE</div>\n              <div className=\"text-2xl font-bold text-orange-400\">\n                {validationMetrics.mae.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n              </div>\n              <div className=\"text-xs text-slate-500\">Mean Absolute Error</div>\n            </div>\n            <div className=\"bg-slate-800 p-4 rounded-lg border border-slate-700\">\n              <div className=\"text-sm text-slate-400 mb-1\">Coverage</div>\n              <div className=\"text-2xl font-bold text-green-400\">\n                {validationMetrics.coverage.toFixed(1)}%\n              </div>\n              <div className=\"text-xs text-slate-500\">95% CI Coverage</div>\n            </div>\n            <div className=\"bg-slate-800 p-4 rounded-lg border border-slate-700\">\n              <div className=\"text-sm text-slate-400 mb-1\">Test Points</div>\n              <div className=\"text-2xl font-bold text-teal-400\">\n                {validationMetrics.totalPoints}\n              </div>\n              <div className=\"text-xs text-slate-500\">Validation samples</div>\n            </div>\n          </div>\n        )}\n\n        {selectedCountries.length < 2 ? (\n          <div className=\"bg-slate-800 p-8 rounded-lg border border-slate-700 mb-6 text-center\">\n            <AlertCircle className=\"mx-auto mb-4 text-yellow-500\" size={48} />\n            <h3 className=\"font-bold mb-2 text-yellow-400\">Select At Least 2 Countries</h3>\n            <p className=\"text-slate-400 mb-4\">Migration model requires 2+ countries to analyze flows.</p>\n            <p className=\"text-slate-500 text-sm\">You'll see:</p>\n            <ul className=\"text-slate-500 text-sm mt-2 space-y-1\">\n              <li>📈 Line chart: Foreign population stock (2000-2020)</li>\n              <li>🎯 Colored lines (solid=predicted, dashed=actual)</li>\n              <li>📊 Validation metrics (RMSE, MAE, Coverage)</li>\n              <li>🔢 Transition matrices between countries</li>\n              <li>🌍 Geography coefficients</li>\n            </ul>\n          </div>\n        ) : predictions.length > 0 && chartDataWithUncertainty.length > 0 ? (\n          <div className=\"bg-slate-800 p-4 rounded-lg border border-slate-700 mb-6\">\n            <h3 className=\"font-bold mb-4\">Population Evolution with 95% Credible Intervals</h3>\n            <div className=\"mb-2 text-sm text-slate-400\">\n              {chartDataWithUncertainty.length} data points | Countries: {selectedCountries.join(', ')}\n            </div>\n            <div className=\"bg-slate-900 p-2 rounded\">\n              <ResponsiveContainer width=\"100%\" height={400}>\n                <LineChart data={chartDataWithUncertainty} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#64748b\" />\n                  <XAxis dataKey=\"year\" stroke=\"#f1f5f9\" style={{ fontSize: '14px', fontWeight: 'bold' }} />\n                  <YAxis stroke=\"#f1f5f9\" style={{ fontSize: '14px', fontWeight: 'bold' }}\n                    tickFormatter={(value) => {\n                      if (value >= 1000000) return `${(value/1000000).toFixed(1)}M`;\n                      if (value >= 1000) return `${(value/1000).toFixed(0)}K`;\n                      return value;\n                    }} />\n                  <Tooltip contentStyle={{ backgroundColor: '#0f172a', border: '2px solid #10b981',\n                      borderRadius: '8px', padding: '12px' }}\n                    labelStyle={{ color: '#f1f5f9', fontWeight: 'bold', marginBottom: '8px' }}\n                    itemStyle={{ color: '#f1f5f9' }}\n                    formatter={(value) => value ? ['Population: ' + value.toLocaleString(undefined, { maximumFractionDigits: 0 }), ''] : ['N/A', '']} />\n                  <Legend wrapperStyle={{ paddingTop: '20px' }} iconType=\"line\" />\n                  {selectedCountries.map((country, i) => (\n                    <React.Fragment key={country}>\n                      <Line type=\"monotone\" dataKey={country} stroke={colors[i]} strokeWidth={4}\n                        dot={{ r: 5, fill: colors[i], strokeWidth: 0 }}\n                        activeDot={{ r: 8, stroke: '#fff', strokeWidth: 2 }}\n                        name={`${country} (predicted)`} connectNulls={true} />\n                      {chartDataWithUncertainty.some(d => d[`${country}_actual`]) && (\n                        <Line type=\"monotone\" dataKey={`${country}_actual`} stroke={dotColors[i]} strokeWidth={3}\n                          strokeDasharray=\"10 5\" dot={{ r: 4, fill: dotColors[i], strokeWidth: 0 }}\n                          name={`${country} (actual)`} connectNulls={true} />\n                      )}\n                    </React.Fragment>\n                  ))}\n                </LineChart>\n              </ResponsiveContainer>\n            </div>\n            <div className=\"flex gap-4 mt-4 text-sm text-slate-300 flex-wrap\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-8 h-1 bg-red-500 rounded\"></div>\n                <span>Solid = Predicted</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-8 h-1 bg-red-700 rounded\" style={{ backgroundImage: 'repeating-linear-gradient(90deg, #dc2626 0, #dc2626 10px, transparent 10px, transparent 15px)' }}></div>\n                <span>Dashed = Actual (darker)</span>\n              </div>\n              <div className=\"text-xs text-slate-500\">\n                Colors: 🔴 Red, 🟢 Green, 🟠 Orange, 🟣 Purple, 🩷 Pink, 🔵 Teal\n              </div>\n            </div>\n          </div>\n        ) : null}\n\n        {learnedCoefficients && (\n          <div className=\"bg-slate-800 p-4 rounded-lg border border-slate-700 mb-6\">\n            <h3 className=\"font-bold mb-4 flex items-center gap-2\">\n              <TrendingUp size={20} />\n              Learned Model Coefficients\n            </h3>\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <BarChart data={[\n                { name: 'Distance Effect', value: learnedCoefficients.distanceEffect },\n                { name: 'Connectivity Effect', value: learnedCoefficients.connectivityEffect }\n              ]}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#475569\" />\n                <XAxis dataKey=\"name\" stroke=\"#94a3b8\" />\n                <YAxis stroke=\"#94a3b8\" domain={[0, 1]} />\n                <Tooltip contentStyle={{ backgroundColor: '#1e293b', border: '1px solid #475569' }} />\n                <Bar dataKey=\"value\" fill=\"#10b981\" />\n              </BarChart>\n            </ResponsiveContainer>\n            <div className=\"mt-3 p-3 bg-slate-900 rounded\">\n              <p className=\"text-sm text-slate-300\">\n                <strong>Interpretation:</strong> Distance effect of {learnedCoefficients.distanceEffect.toFixed(2)} means \n                migration probability decreases by ~{(learnedCoefficients.distanceEffect * 100).toFixed(0)}% per 1000km. \n                Connectivity effect of {learnedCoefficients.connectivityEffect.toFixed(2)} shows \n                {learnedCoefficients.connectivityEffect > 0.3 ? ' strong ' : ' moderate '}\n                preference for neighboring countries.\n              </p>\n            </div>\n          </div>\n        )}\n\n        {transitionMatrices.length > 0 && (\n          <div className=\"bg-slate-800 p-4 rounded-lg border border-slate-700 mb-6\">\n            <h3 className=\"font-bold mb-4\">Transition Matrix ({transitionMatrices[0].year})</h3>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-xs\">\n                <thead>\n                  <tr className=\"border-b border-slate-700\">\n                    <th className=\"p-2 text-left\">From / To</th>\n                    {selectedCountries.map((country, i) => (\n                      <th key={i} className=\"p-2 text-right\">{country.substring(0, 10)}</th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {transitionMatrices[0].matrix.map((row, i) => (\n                    <tr key={i} className=\"border-b border-slate-700/50\">\n                      <td className=\"p-2 font-medium\">{selectedCountries[i].substring(0, 15)}</td>\n                      {row.map((val, j) => (\n                        <td key={j} className=\"p-2 text-right\"\n                          style={{\n                            backgroundColor: i === j \n                              ? 'rgba(16, 185, 129, 0.3)' \n                              : `rgba(239, 68, 68, ${Math.min(val * 2, 0.8)})`\n                          }}>\n                          {(val * 100).toFixed(1)}%\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n\n        {predictions.length > 1 && (\n          <div className=\"bg-slate-800 p-4 rounded-lg border border-slate-700\">\n            <h3 className=\"font-bold mb-4\">Model Summary</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n              <div>\n                <h4 className=\"font-semibold text-slate-300 mb-2\">Data Information</h4>\n                <ul className=\"space-y-1 text-slate-400\">\n                  <li>• Total years: {years.length}</li>\n                  <li>• Training years: {Math.floor(years.length * trainTestSplit)}</li>\n                  <li>• Testing years: {years.length - Math.floor(years.length * trainTestSplit)}</li>\n                  <li>• Countries analyzed: {selectedCountries.length}</li>\n                  <li>• Ensemble samples: 100</li>\n                </ul>\n              </div>\n              <div>\n                <h4 className=\"font-semibold text-slate-300 mb-2\">Geographic Features</h4>\n                <ul className=\"space-y-1 text-slate-400\">\n                  <li>• Real Haversine distances used</li>\n                  <li>• Border connectivity incorporated</li>\n                  <li>• Distance decay: exp(-{distanceEffect.toFixed(2)} × km/1000)</li>\n                  <li>• Connectivity bonus: 1 + {connectivityEffect.toFixed(2)} × border</li>\n                  <li>• Transition matrices: {transitionMatrices.length}</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PopulationMigrationModel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}